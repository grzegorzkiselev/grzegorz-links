"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[856],{856:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var s=i(358),r=(e,t,i,s,r)=>(e-t)*(r-s)/(i-t)+s,a=(e,t,i)=>(1-i)*e+i*t,n={x:0,y:0},o=n,h={x:o.x-n.x,y:o.y-n.y};window.addEventListener("mousemove",(e=>n=(e=>({x:e.clientX,y:e.clientY}))(e)));class l{constructor(e,t,i){this.DOM={el:e},this.inMenuPosition=t,this.animatableProperties=i,this.DOM.textInner=this.DOM.el.querySelector(".links__link"),this.layout(),this.initEvents()}layout(){this.DOM.reveal=document.querySelectorAll(".hover-reveal")[this.inMenuPosition],this.DOM.revealInner=document.querySelectorAll(".hover-reveal__inner")[this.inMenuPosition],this.DOM.revealImage=document.querySelectorAll(".hover-reveal__img")[this.inMenuPosition]}calcBounds(){this.bounds={el:this.DOM.el.getBoundingClientRect(),reveal:this.DOM.reveal.getBoundingClientRect()}}initEvents(){this.mouseenterFn=()=>{this.showImage(),this.firstRAFCycle=!0,this.loopRender()},this.mouseleaveFn=()=>{this.stopRendering(),this.hideImage()},this.DOM.el.addEventListener("mouseenter",this.mouseenterFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn)}showImage(){s.p8.killTweensOf(this.DOM.revealInner),this.tl=s.p8.timeline({onStart:()=>{this.DOM.reveal.style.opacity=1,s.p8.set(this.DOM.el,{zIndex:1})}}).to(this.DOM.revealInner,.2,{ease:"Sine.easeOut",startAt:{x:h.x<0?"100%":"-100%"},x:"0%"}).to(this.DOM.revealImage,.2,{ease:"Sine.easeOut",startAt:{x:h.x<0?"-100%":"100%"},x:"0%"},0)}hideImage(){s.p8.killTweensOf(this.DOM.revealInner),s.p8.killTweensOf(this.DOM.revealImage),this.tl=s.p8.timeline({onStart:()=>{s.p8.set(this.DOM.el,{zIndex:1})},onComplete:()=>{s.p8.set(this.DOM.reveal,{opacity:0})}}).to(this.DOM.revealInner,.2,{ease:"Sine.easeOut",x:h.x<0?"-100%":"100%"}).to(this.DOM.revealImage,.2,{ease:"Sine.easeOut",x:h.x<0?"100%":"-100%"},0)}loopRender(){this.requestId||(this.requestId=requestAnimationFrame((()=>this.render())))}stopRendering(){this.requestId&&(window.cancelAnimationFrame(this.requestId),this.requestId=void 0)}render(){this.requestId=void 0,this.firstRAFCycle&&this.calcBounds();var e,t=(100,(e=Math.abs(o.x-n.x))<=0?0:e>=100?100:e);h={x:o.x-n.x,y:o.y-n.y},o={x:n.x,y:n.y},this.animatableProperties.tx.current=Math.abs(n.x)-this.bounds.reveal.width/2,this.animatableProperties.ty.current=Math.abs(n.y)-this.bounds.reveal.height,this.animatableProperties.rotation.current=this.firstRAFCycle?0:r(t,0,100,0,h.x<0?-60:60),this.animatableProperties.brightness.current=this.firstRAFCycle?1:r(t,0,100,1,4),this.animatableProperties.tx.previous=this.firstRAFCycle?this.animatableProperties.tx.current:a(this.animatableProperties.tx.previous,this.animatableProperties.tx.current,this.animatableProperties.tx.amt),this.animatableProperties.ty.previous=this.firstRAFCycle?this.animatableProperties.ty.current:a(this.animatableProperties.ty.previous,this.animatableProperties.ty.current,this.animatableProperties.ty.amt),this.animatableProperties.rotation.previous=this.firstRAFCycle?this.animatableProperties.rotation.current:a(this.animatableProperties.rotation.previous,this.animatableProperties.rotation.current,this.animatableProperties.rotation.amt),this.animatableProperties.brightness.previous=this.firstRAFCycle?this.animatableProperties.brightness.current:a(this.animatableProperties.brightness.previous,this.animatableProperties.brightness.current,this.animatableProperties.brightness.amt),s.p8.set(this.DOM.reveal,{x:this.animatableProperties.tx.previous,y:this.animatableProperties.ty.previous,rotation:this.animatableProperties.rotation.previous,filter:`\n        brightness(${this.animatableProperties.brightness.previous})\n      `}),this.firstRAFCycle=!1,this.loopRender()}}class u{constructor(e){this.DOM={el:e},this.DOM.menuItems=this.DOM.el.querySelectorAll(".links__link"),this.animatableProperties={tx:{previous:0,current:0,amt:.08},ty:{previous:0,current:0,amt:.08},rotation:{previous:0,current:0,amt:.08},brightness:{previous:1,current:1,amt:.08}},this.menuItems=[],[...this.DOM.menuItems].forEach(((e,t)=>this.menuItems.push(new l(e,t,this.animatableProperties))))}}}}]);
//# sourceMappingURL=bundle.245a3bc9ad5b445780c2.js.map